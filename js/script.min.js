for(var busketButton=document.querySelectorAll(".catalog-button-purchase"),busketPopup=document.querySelector(".modal-busket"),busketClose=busketPopup.querySelector(".modal-close"),i=0;i<busketButton.length;i++)busketButton[i].addEventListener("click",function(e){e.preventDefault(),busketPopup.classList.add("modal-show")});busketClose.addEventListener("click",function(e){e.preventDefault(),busketPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&busketPopup.classList.contains("modal-show")&&(e.preventDefault(),busketPopup.classList.remove("modal-show"))});var prev=document.getElementById('previous'),next=document.getElementById('next'),slides=document.querySelectorAll('.slider-item'),dots=document.querySelectorAll('.slider-dot');var index=0;var currentSlide=n=>{for(slide of slides){slide.classList.remove("slide-current")}slides[n].classList.add("slide-current")};var currentDot=n=>{console.log(n);for(dot of dots){dot.classList.remove("current-dot")}dots[n].classList.add("current-dot")};next.addEventListener('click',()=>{var slidesWrapper=document.querySelector('.site-wrapper');slidesWrapper.classList.toggle('site-wrapper-2')});prev.addEventListener('click',()=>{const slidesWrapper=document.querySelector('.site-wrapper');slidesWrapper.classList.toggle('site-wrapper-2')});var prepareCurrentSlide=ind=>{currentSlide(ind);currentDot(ind)};var nextSlide=()=>{if(index==slides.length-1){index=0;prepareCurrentSlide(index)}else{index++;prepareCurrentSlide(index)}};var prevSlide=()=>{if(index==0){index=slides.length-1;prepareCurrentSlide(index)}else{index--;prepareCurrentSlide(index)}};dots.forEach((item,indexDot)=>{item.addEventListener('click',()=>{index=indexDot;prepareCurrentSlide(index)})});next.addEventListener('click',nextSlide);prev.addEventListener('click',prevSlide);var writeUsLink=document.querySelector(".contacts-button");var writeUsPopup=document.querySelector(".modal-write-us");var writeUsClose=writeUsPopup.querySelector(".modal-close");var writeUsForm=writeUsPopup.querySelector(".write-us-form");var writeUsName=writeUsPopup.querySelector(".write-us-name");var writeUsEmail=writeUsPopup.querySelector(".write-us-email");var isStorageSupport=true;var storage="";try{storage=localStorage.getItem("login")}catch(err){isStorageSupport=false}writeUsLink.addEventListener("click",function(evt){evt.preventDefault();writeUsPopup.classList.add("modal-show");if(storage){writeUsName.value=storage;writeUsEmail.focus()}else{writeUsName.focus()}});writeUsClose.addEventListener("click",function(evt){evt.preventDefault();writeUsPopup.classList.remove("modal-show");writeUsPopup.classList.remove("modal-error")});writeUsForm.addEventListener("submit",function(evt){if(!writeUsName.value||!writeUsEmail.value){evt.preventDefault();writeUsPopup.classList.remove("modal-error");writeUsPopup.offsetWidth=writeUsPopup.offsetWidth;writeUsPopup.classList.add("modal-error")}else{if(isStorageSupport){localStorage.setItem("login",writeUsName.value)}}});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){if(writeUsPopup.classList.contains("modal-show")){evt.preventDefault();writeUsPopup.classList.remove("modal-show");writeUsPopup.classList.remove("modal-error")}}});var mapLink=document.querySelector(".map-link");var mapPopup=document.querySelector(".modal-map");var mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(evt){evt.preventDefault();mapPopup.classList.add("modal-show")});mapClose.addEventListener("click",function(evt){evt.preventDefault();mapPopup.classList.remove("modal-show")});window.addEventListener("keydown",function(evt){if(evt.keyCode===27){if(mapPopup.classList.contains("modal-show")){evt.preventDefault();mapPopup.classList.remove("modal-show")}}});